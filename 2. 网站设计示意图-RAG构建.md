# RAG构建 - UI设计示意图

```
+------------------------------------------------------------------+
|                                                                  |
|  KFN                                      用户名 ▼  通知 ⚙️ |
|                                                                  |
+------------------------------------------------------------------+
|                                                                  |
|  [侧边栏导航]         | RAG构建                     [+ 创建新RAG] |
|  ○ 仪表盘            |                                          |
|  ○ 知识源管理         | [搜索...                     🔍] [筛选 ▼] |
|  ○ 内容创作          |                                          |
|  ○ 知识发布          | ┌─────────────────────────────────────────┐
|  ○ LLM管理          | | 我的RAG应用                            |
|  ● RAG构建          | |                                        |
|  ○ 设置             | | ┌────────────────┐ ┌────────────────┐  |
|                    | | │ 🤖 产品助手     │ │ 🤖 客服机器人   │  |
|                    | | │ 活跃            │ │ 活跃            │  |
|                    | | │ 数据源: 3个     │ │ 数据源: 2个     │  |
|                    | | │ [编辑] [测试]   │ │ [编辑] [测试]   │  |
|                    | | └────────────────┘ └────────────────┘  |
|                    | |                                        |
|                    | | ┌────────────────┐ ┌────────────────┐  |
|                    | | │ 🤖 知识库问答   │ │ 🤖 研究助手     │  |
|                    | | │ 草稿            │ │ 暂停            │  |
|                    | | │ 数据源: 5个     │ │ 数据源: 1个     │  |
|                    | | │ [编辑] [测试]   │ │ [编辑] [测试]   │  |
|                    | | └────────────────┘ └────────────────┘  |
|                    | |                                        |
|                    | | ┌────────────────┐                    |
|                    | | │ ➕ 新建RAG     │                    |
|                    | | │                │                    |
|                    | | │                │                    |
|                    | | │                │                    |
|                    | | └────────────────┘                    |
|                    | |                                        |
|                    | └─────────────────────────────────────────┘
|                    |                                          |
+------------------------------------------------------------------+

RAG创建/编辑视图:

+------------------------------------------------------------------+
|                                                                  |
|  [返回列表]   创建新RAG应用                           [保存草稿] |
|                                                                  |
+------------------------------------------------------------------+
|                                                                  |
|  基本信息                                                       |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │ 名称: [技术文档助手]                                       │  |
|  │ 描述: [用于回答关于产品技术文档的问题]                     │  |
|  │ 图标: [🔧 ▼]                                              │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
|  步骤 1: 选择数据源                                             |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │ 可用数据源:                        [+ 创建新数据源]        │  |
|  │                                                            │  |
|  │ [✓] 📄 产品手册                                          │  |
|  │ [✓] 🌐 技术博客                                          │  |
|  │ [ ] 📊 API文档                                           │  |
|  │ [ ] 🎙️ 培训视频                                          │  |
|  │ [ ] 📚 用户反馈                                          │  |
|  │                                                            │  |
|  │ 已选择: 2个数据源                                         │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
|  步骤 2: 配置知识库                                             |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │ 分块策略: [按段落 ▼]                                      │  |
|  │ 块大小: [1024 tokens] ├──────────────┤                   │  |
|  │ 块重叠: [200 tokens] ├────────┤                          │  |
|  │                                                            │  |
|  │ 嵌入模型: [text-embedding-3-small ▼]                      │  |
|  │ 向量数据库: [本地存储 ▼]                                  │  |
|  │                                                            │  |
|  │ [一键优化设置]                                            │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
|  步骤 3: 选择LLM和配置提示词                                    |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │ 使用模型: [GPT-4 ▼]                                       │  |
|  │                                                            │  |
|  │ 系统提示词:                                               │  |
|  │ ┌────────────────────────────────────────────────────┐    │  |
|  │ │你是一个技术文档助手，负责回答关于产品的技术问题。  │    │  |
|  │ │请基于提供的上下文信息回答用户问题。如果答案不在    │    │  |
|  │ │上下文中，请明确说明不知道，不要编造答案。          │    │  |
|  │ └────────────────────────────────────────────────────┘    │  |
|  │                                                            │  |
|  │ [使用预设模板]  [一键优化提示词]                           │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
|  步骤 4: 测试和优化                                             |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │ 测试问题: [如何设置产品的高级功能?]                        │  |
|  │                                                            │  |
|  │ [运行测试]                                                │  |
|  │                                                            │  |
|  │ 测试结果:                                                 │  |
|  │ 查询时间: 1.2秒                                           │  |
|  │ 使用知识块: 3个                                           │  |
|  │ 回答: 要设置产品的高级功能，请先进入设置菜单，然后...      │  |
|  │                                                            │  |
|  │ 性能评分: 92/100 ⭐⭐⭐⭐⭐                                 │  |
|  │ [查看详细报告]                                            │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
|  [上一步]                                      [保存] [部署] ▶  |
|                                                                  |
+------------------------------------------------------------------+

部署后的RAG测试界面:

+------------------------------------------------------------------+
|                                                                  |
|  [返回管理]   产品助手 - 测试界面                      [分享 🔗] |
|                                                                  |
+------------------------------------------------------------------+
|                                                                  |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │                                                            │  |
|  │  🤖 产品助手                                              │  |
|  │  有关产品的任何问题，请随时向我提问！                      │  |
|  │                                                            │  |
|  │  👤 如何升级到最新版本?                                   │  |
|  │                                                            │  |
|  │  🤖 要升级到最新版本，请按照以下步骤操作:                 │  |
|  │     1. 打开控制面板                                       │  |
|  │     2. 点击"检查更新"按钮                                 │  |
|  │     3. 如有可用更新，点击"安装更新"                        │  |
|  │     4. 等待下载完成后重启应用                             │  |
|  │                                                            │  |
|  │  👤 产品支持哪些操作系统?                                 │  |
|  │                                                            │  |
|  │  🤖 我们的产品支持以下操作系统:                           │  |
|  │     - Windows 10/11                                       │  |
|  │     - macOS 11.0+                                         │  |
|  │     - Ubuntu 20.04/22.04                                  │  |
|  │     - CentOS 8                                            │  |
|  │                                                            │  |
|  │  来源: 产品手册, 技术博客                                 │  |
|  │                                                            │  |
|  │ ┌──────────────────────────────────────────────────────┐  │  |
|  │ │ 请输入您的问题...                              发送 ▶ │  │  |
|  │ └──────────────────────────────────────────────────────┘  │  |
|  │                                                            │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
|  调试面板                                                       |
|  ┌────────────────────────────────────────────────────────────┐  |
|  │ 检索信息:                                                  │  |
|  │ - 使用数据源: 产品手册, 技术博客                           │  |
|  │ - 相关性评分: 0.89, 0.75, 0.68                            │  |
|  │ - 检索时间: 0.8秒                                         │  |
|  │                                                            │  |
|  │ [查看检索结果] [查看完整提示词] [调整参数]                 │  |
|  └────────────────────────────────────────────────────────────┘  |
|                                                                  |
+------------------------------------------------------------------+
```

## 功能描述

- **RAG应用管理**:
  - 卡片式展示所有RAG应用及其状态（活跃、草稿、暂停）
  - 显示每个应用关联的数据源数量
  - 快速访问编辑和测试功能
  - 一键创建新RAG应用

- **引导式创建流程**:
  - 分步骤引导用户完成RAG应用创建
  - 第1步：选择数据源，支持复选多个知识来源
  - 第2步：傻瓜式配置知识库参数，提供简单描述和默认值
  - 第3步：选择语言模型并配置提示词，提供预设模板
  - 第4步：内置测试工具，实时验证效果并提供性能评分

- **智能优化**:
  - 一键优化设置按钮，自动调整参数为最佳配置
  - 提示词优化功能，改进系统提示以提高回答质量
  - 性能评分系统，直观反馈当前配置效果

- **用户友好的测试界面**:
  - 聊天式交互，让用户轻松测试RAG应用
  - 显示信息来源，增强回答可信度
  - 调试面板提供技术细节，满足高级用户需求
  - 支持分享功能，方便团队协作

这个设计使任何用户都能快速构建高质量的RAG应用，无需深入了解底层技术，同时提供足够的定制选项以满足不同需求。 